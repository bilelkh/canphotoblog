.pic

  :if picture.next
    %a{ href: picture.next }
      %img{ alt: picture.displayName, src: picture.url, title: picture.displayName }/

  :if !picture.next
    %img{ alt: picture.displayName, src: picture.url, title: picture.displayName }/



.clearfix

.gendiv

  %h1
    = picture.displayName 
    = ' (' + picture.dateTaken + ')'

  :if picture.text
    %p
      = picture.text

  %hr{ size: 1 }/

  :if user
    %form{ method: "post", action: "/pictures/edit" }
      %input{ type: "hidden", name: "album", value: picture.album.name }/
      %input{ type: "hidden", name: "picture", value: picture.name }/

      %p
        %label{ for: "title" }
          Picture Title:
        %input{ type: "text", name: "title", id: "title" }/

      %p
        %label{ for: "text" }
          Picture Text:
        %textarea{ name: "text", id: "text" }

      %p
        %input{ type: "submit", value: "Save" }/

    %hr{ size: 1 }/

  :if picture.comments.length
    %ul.comments
      :each comment in picture.comments
        %li
          = comment.from + ' (' + comment.dateCommented.split(' ').shift() + '): ' + comment.text
    %hr{ size: 1 }/

  %form{ method: "post", action: "/comments/add" }
    %input{ type: "hidden", name: "album", value: picture.album.name }/
    %input{ type: "hidden", name: "picture", value: picture.name }/

    %p
      %label{ for: "from" }
        From:
      %input{ type: "text", name: "from", id: "from" }/

    %p
      %label{ for: "text" }
        Comment:
      %textarea{ name: "text", id: "text" }

    %p
      %input{ type: "submit", value: "Post Comment" }/

